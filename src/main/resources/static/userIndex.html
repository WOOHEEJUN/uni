<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Uni Messenger</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/userIndex.css">
</head>
<body>
  <header>
    <a href="/userIndex.html" class="logo">
      <img src="/img/Uni_logo.png" alt="로고">
      Uni messenger
    </a>
    <div class="user-actions">
      <button class="chat-btn" onclick="goChat()">💬 익명 채팅방</button>
      <a href="/building-select.html"><button class="building-btn">🏢 건물 채팅방</button></a>
      <span id="userGreeting">@@님 안녕하세요!</span>
      <span id="universityName">🏠 서울대학교</span>
      <a href="myPage.html"><button class="mypage-btn">마이페이지</button></a>
      <button class="logout-btn" onclick="logout()">로그아웃</button>
    </div>
  </header>

  <main>
    <div class="left">
      <div class="section">
        <h3>🔥 HOT 게시물</h3>
        <ul id="hotPostsList"></ul>
      </div>
    </div>

    <div class="center">
      <div class="section">
        <h3>📢 공지사항</h3>
        <p>💬 환영합니다! 여기는 Uni messenger입니다. 공지 및 메시지 공간입니다.</p>
      </div>

      <div class="section timetable-section">
        <div class="section-header">
          <h3>📅 시간표</h3>
          <a href="/timetable.html" class="view-all-btn">전체보기</a>
        </div>
        <div id="timetablePreview" class="timetable-preview">
          <div class="mini-timetable">
            <div class="mini-time-cell"></div>
            <div class="mini-day-header">월</div>
            <div class="mini-day-header">화</div>
            <div class="mini-day-header">수</div>
            <div class="mini-day-header">목</div>
            <div class="mini-day-header">금</div>
            <!-- 9:00~22:00 시간 셀 반복 생성 -->
            <script>
              const grid = document.currentScript.parentElement;
              for (let h = 9; h <= 22; h++) {
                const time = `${h}:00`;
                const timeCell = document.createElement('div');
                timeCell.className = 'mini-time-cell';
                timeCell.textContent = time;
                grid.appendChild(timeCell);
                for (let d = 1; d <= 5; d++) {
                  const col = document.createElement('div');
                  col.className = 'mini-day-column';
                  col.dataset.day = d;
                  col.dataset.hour = h;
                  grid.appendChild(col);
                }
              }
            </script>
          </div>
        </div>
      </div>
    </div>

    <div class="right">
      <div class="section">
        <h3>📁 게시판 목록</h3>
        <ul id="boardList"></ul>
      </div>
    </div>
  </main>

  <footer>
    ⒲ 2025 Uni Messenger. All rights reserved.
  </footer>

  <script src="/js/userIndex.js"></script>
</body>
</html>