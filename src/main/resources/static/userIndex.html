<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Uni Messenger</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/index.css">
  <style>
    .user-actions {
      display: flex;
      align-items: center;
      gap: 6px; /* 간격 줄임 */
    }
    .all-board-button {
      margin-bottom: 8px; /* 버튼 여백 최소화 */
    }
    
    /* 시간표 섹션 스타일 */
    .timetable-section {
      margin-top: 20px;
    }
    
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    
    .view-all-btn {
      color: #4285F4;
      text-decoration: none;
      font-size: 14px;
    }
    
    .timetable-preview {
      background: white;
      border-radius: 8px;
      padding: 15px;
      min-height: 200px;
    }
    
    .schedule-item {
      background: #4285F4;
      color: white;
      padding: 8px;
      border-radius: 4px;
      margin-bottom: 8px;
      font-size: 14px;
    }
    
    .schedule-time {
      font-size: 12px;
      color: #666;
      margin-top: 4px;
    }

    .mini-timetable {
      width: 100%;
      overflow: hidden;
    }

    .mini-grid {
      display: grid;
      grid-template-columns: 30px repeat(5, 1fr);
      gap: 1px;
      background: #e0e0e0;
      border: 1px solid #e0e0e0;
      font-size: 10px;
    }

    .mini-time-slot {
      background: white;
      padding: 2px;
      text-align: center;
      position: relative;
      min-height: 20px;
      font-size: 8px;
    }

    .mini-day-header {
      background: #f8f9fa;
      padding: 4px;
      text-align: center;
      font-weight: bold;
      font-size: 10px;
    }

    .mini-schedule-item {
      position: absolute;
      left: 0;
      right: 0;
      padding: 1px;
      color: white;
      font-size: 8px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      border-radius: 2px;
      margin: 1px;
    }

    .mini-schedule-item.half-hour {
      height: calc(50% - 2px);
    }

    .mini-schedule-item.half-hour.top {
      top: 1px;
    }

    .mini-schedule-item.half-hour.bottom {
      bottom: 1px;
    }

    .mini-schedule-item.full-hour {
      height: calc(100% - 2px);
      top: 1px;
    }
  </style>
</head>
<body>

  <!-- 헤더 -->
  <header>
    <a href="/userIndex.html" class="logo">
      <img src="/img/Uni_logo.png" alt="로고">
      Uni messenger
    </a>
    <div class="user-actions">
      <button class="chat-btn" onclick="goChat()">💬 익명 채팅방</button>
      <a href="/building-select.html"><button class="building-btn">🏢 건물 채팅방</button></a>
      <span id="userGreeting">@@님 안녕하세요!</span>
      <span id="universityName">🏠 서울대학교</span>
      <a href="myPage.html"><button class="mypage-btn">마이페이지</button></a>
      <button class="logout-btn" onclick="logout()">로그아웃</button>
    </div>
  </header>

  <!-- 본문 -->
  <main>
    <!-- 🔥 HOT 게시물 (왼쪽) -->
    <div class="left">
      <div class="section">
        <h3>🔥 HOT 게시물</h3>
        <ul id="hotPostsList">
          <!-- HOT 게시물이 여기에 동적으로 추가됩니다 -->
        </ul>
      </div>
    </div>

    <!-- 📢 공지사항 (가운데) -->
    <div class="center">
      <div class="section">
        <h3>📢 공지사항</h3>
        <p>💬 환영합니다! 여기는 Uni messenger입니다. 공지 및 메시지 공간입니다.</p>
      </div>
      
      <!-- 📅 시간표 섹션 추가 -->
      <div class="section timetable-section">
        <div class="section-header">
          <h3>📅 시간표</h3>
          <a href="/timetable.html" class="view-all-btn">전체보기</a>
        </div>
        <div id="timetablePreview" class="timetable-preview">
          <div class="mini-timetable">
            <div class="mini-grid" id="miniTimetableGrid">
              <!-- 미니 시간표 그리드가 여기에 동적으로 추가됩니다 -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="right">
      <div class="section">
        <h3>📁 게시판 목록</h3>
        <ul id="boardList">
          <!-- 게시판 목록이 동적으로 추가될 위치 -->
        </ul>
      </div>
    </div>
  </main>

  <!-- 푸터 -->
  <footer>
    ⓒ 2025 Uni Messenger. All rights reserved.
  </footer>

  <!-- 스크립트 -->
  <script src="/js/userIndex.js"></script>
</body>
</html>